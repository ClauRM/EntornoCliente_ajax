<html>

<head>

</head>

<body style="background-color: rgb(188, 194, 194);">

    <form id="formulario">
        <div id="contenido"></div>
        <!--div donde voy a volcar el contenido-->
        <input type="button" id="boton" value="Inserta"> <!--boton que ejecuta una funcion-->
    </form>


    <script type="text/javascript" language="javascript">
        //montar un objeto de la clase XMLHttpRequest, tambi√©n podemos acceder a otros formatos
        var http_request = new XMLHttpRequest;

        //estas lineas son solo para chrome pero lo correcto es usar cualquier navegador (ajax_intro)

        //mediante variables todos los elementos del formulario
        var contenido = document.getElementById("contenido");
        var formulario = document.getElementById("formulario");
        var boton = document.getElementById("boton");

        //con html
        //http_request.open('GET', 'http://localhost/dashboard/howto.html', true);
        
        //con json
        http_request.open('GET', 'http://localhost/dashboard/AJAX/EjerciciosClases_AJAX/datos.json', true);
        
        //con imagen
        //http_request.open('GET', 'http://localhost/dashboard/images/gatito.jpg', true);

        http_request.addEventListener('load', function () { //cuando se cargue la pagina
            //con html
            //contenido.innerHTML = http_request.responseText;//viene del evento click abajo
            
            //con json
            var datosJSON = JSON.parse(this.responseText); //hay que parsearlo para poderlo interpretar como hmtl
            contenido.innerHTML = datosJSON.lenguajes; //esta parseado por lo que unicamente insertar el contenido de la etiqueta "lenguajes" 
            
            //con imagen
            //const img = new Image();
            //img.src = URL.createObjectURL(this.response);
            //contenido.appendChild(img);
        });

        boton.addEventListener('click', function () {
            //con html
            //http_request.responseType = 'html'; //tipo de fichero
            
            //con json
            http_request.responseType = 'JSON';
            
            //con imagen
            //http_request.responseType = 'blob' //responsetype: https://runebook.dev/es/docs/dom/xmlhttprequest/responsetype
            http_request.send();

        });
    </script>


</body>

</html>